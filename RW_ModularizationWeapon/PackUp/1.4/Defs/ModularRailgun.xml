<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<!--Gun-->
	<ThingDef ParentName="BaseHumanMakeableGun">
		<defName>Gun_ModularRailgun</defName>
		<label>modular railgun</label>
		<description>A general-purpose gas-operated assault rifle for field or urban combat. It has good range, decent power, and good accuracy.</description>
		<drawerType>RealtimeOnly</drawerType>
		<tickerType>Normal</tickerType>
		<graphicData>
			<texPath>ModularRailgun/ModRailgun_Base</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Interact_Rifle</soundInteract>
		<recipeMaker>
			<researchPrerequisite>PrecisionRifling</researchPrerequisite>
			<skillRequirements>
				<Crafting>6</Crafting>
			</skillRequirements>
			<displayPriority>420</displayPriority>
		</recipeMaker>
		<thingSetMakerTags>
			<li>RewardStandardQualitySuper</li>
		</thingSetMakerTags>
		<statBases>
			<WorkToMake>40000</WorkToMake>
			<Mass>3.1</Mass>
			<AccuracyTouch>0.60</AccuracyTouch>
			<AccuracyShort>0.70</AccuracyShort>
			<AccuracyMedium>0.65</AccuracyMedium>
			<AccuracyLong>0.55</AccuracyLong>
			<RangedWeapon_Cooldown>1.70</RangedWeapon_Cooldown>
		</statBases>
		<costList>
			<Steel>60</Steel>
			<ComponentIndustrial>7</ComponentIndustrial>
		</costList>
		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_AssaultRifle</defaultProjectile>
				<warmupTime>1.0</warmupTime>
				<range>30.9</range>
				<burstShotCount>3</burstShotCount>
				<ticksBetweenBurstShots>10</ticksBetweenBurstShots>
				<soundCast>Shot_AssaultRifle</soundCast>
				<soundCastTail>GunTail_Medium</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</li>
		</verbs>
		<weaponTags>
			<li>IndustrialGunAdvanced</li>
			<li>AssaultRifle</li>
		</weaponTags>
		<tools>
			<li>
				<label>stock</label>
				<capacities>
					<li>Blunt</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
			<li>
				<label>barrel</label>
				<capacities>
					<li>Blunt</li>
					<li>Poke</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
		</tools>
		<comps>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Bilinear</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<verbPropertiesAffectByOtherPart>true</verbPropertiesAffectByOtherPart>
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModRailgun_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<scale>(1.25,0,1.25)</scale>
						<postion>(0,0.1,0)</postion>
						<defultThing>ModRailgun_MagClip</defultThing>
						<filter>
							<thingDefs>
								<li>ModRailgun_MagClip</li>
								<li>ModRailgun_MagDrum</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModRailgun_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<scale>(1.25,0,1.25)</scale>
						<postion>(0,0.1,0)</postion>
						<defultThing>ModRailgun_SightIron</defultThing>
						<filter>
							<thingDefs>
								<li>ModRailgun_SightIron</li>
								<li>ModRailgun_SightHolo</li>
								<li>ModRailgun_SightScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModRailgun_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<scale>(1.25,0,1.25)</scale>
						<postion>(0.45,0,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>ModRailgun_Bayonet</li>
								<li>ModRailgun_VertiGrip</li>
								<li>ModRailgun_UBGL</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModRailgun_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<scale>(1.25,0,1.25)</scale>
						<postion>(0.2,0,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>ModRailgun_Silencer</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModRailgun_Grip</id>
						<name>grip</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Grip</UITexPath>
						<scale>(1.25,0,1.25)</scale>
						<postion>(0,0.1,0)</postion>
						<defultThing>ModRailgun_StandardGrip</defultThing>
						<filter>
							<thingDefs>
								<li>ModRailgun_StandardGrip</li>
								<li>ModRailgun_AdvGrip</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
			</li>
		</comps>
	</ThingDef>

	<!--Attachments-->
	<ThingCategoryDef>
		<defName>ThingCategory_RaingunParts</defName>
		<label>railgun parts</label>
		<parent>Manufactured</parent>
	</ThingCategoryDef>

	<ThingDef Name="RailgunPartBase" ParentName="ResourceBase"  Abstract="True">
		<graphicData>
			<texPath>Things/Item/Health/HealthItem</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>0.80</drawSize>
			<color>(189,169,118)</color>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<healthAffectsPrice>false</healthAffectsPrice>
		<statBases>
			<MaxHitPoints>70</MaxHitPoints>
			<MarketValue>32</MarketValue>
			<Mass>0.2</Mass>
			<Flammability>0.6</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>ThingCategory_RaingunParts</li>
		</thingCategories>
		<comps>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Bilinear</TextureFilterMode>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
		</comps>
	</ThingDef>

	<!--Magazine-->

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_MagClip</defName>
		<label>railgun clip magazine</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</uiIconPath>
		<statBases>
			<Mass>0.3</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_ClipMagazine</PartTexPath>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_MagDrum</defName>
		<label>railgun drum magazine</label>
		<description>Drun magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</uiIconPath>
		<statBases>
			<Mass>0.6</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_DrumMagazine</PartTexPath>
				<verbPropertiesOffseter>
					<li>
						<burstShotCount>3</burstShotCount>
					</li>
				</verbPropertiesOffseter>
				<statMultiplier>
					<AccuracyTouch>0.9</AccuracyTouch>
					<AccuracyShort>0.9</AccuracyShort>
					<AccuracyMedium>0.8</AccuracyMedium>
					<AccuracyLong>0.8</AccuracyLong>
					<RangedWeapon_Cooldown>1.2</RangedWeapon_Cooldown>
				</statMultiplier>
			</li>
		</comps>
	</ThingDef>

	<!--sight-->

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_SightIron</defName>
		<label>railgun iron sight</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</uiIconPath>
		<statBases>
			<Mass>0.1</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_IronSight</PartTexPath>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_SightHolo</defName>
		<label>railgun holographic sight</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</uiIconPath>
		<statBases>
			<Mass>0.3</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_HoloSight</PartTexPath>
				<verbPropertiesOffseter>
					<li>
						<warmupTime>0.1</warmupTime>
						<range>3</range>
					</li>
				</verbPropertiesOffseter>
				<statMultiplier>
					<AccuracyTouch>1.1</AccuracyTouch>
					<AccuracyShort>1.1</AccuracyShort>
					<RangedWeapon_Cooldown>0.9</RangedWeapon_Cooldown>
				</statMultiplier>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_SightScope</defName>
		<label>railgun scope</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</uiIconPath>
		<statBases>
			<Mass>0.6</Mass>
		</statBases>
		<comps>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Bilinear</TextureFilterMode>
				<ForceNodeIdControl>true</ForceNodeIdControl>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_Scope</PartTexPath>
				<verbPropertiesOffseter>
					<li>
						<warmupTime>0.3</warmupTime>
						<range>6</range>
					</li>
				</verbPropertiesOffseter>
				<statMultiplier>
					<AccuracyTouch>0.5</AccuracyTouch>
					<AccuracyShort>0.8</AccuracyShort>
					<AccuracyMedium>1.2</AccuracyMedium>
					<AccuracyLong>1.4</AccuracyLong>
					<RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown>
				</statMultiplier>
			</li>
		</comps>
	</ThingDef>

	<!--grip-->

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_StandardGrip</defName>
		<label>railgun standard grip</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Grip</uiIconPath>
		<statBases>
			<Mass>0.3</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_StandardGrip</PartTexPath>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_AdvGrip</defName>
		<label>railgun ergonomic grip</label>
		<description>Drun magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Grip</uiIconPath>
		<statBases>
			<Mass>0.6</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_AdvGrip</PartTexPath>
			</li>
		</comps>
	</ThingDef>

	<!--Muzzle device-->

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_Silencer</defName>
		<label>railgun silencer</label>
		<description>I know railgun can't be silenced, this is for demonstration.</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</uiIconPath>
		<statBases>
			<Mass>0.2</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_Silencer</PartTexPath>
				<verbPropertiesObjectPatch>
					<li>
						<soundCast>Shot_Silenced</soundCast>
						<soundCastTail IsNull="true"/>
					</li>
				</verbPropertiesObjectPatch>
			</li>
		</comps>
	</ThingDef>

	<SoundDef>
		<defName>Shot_Silenced</defName>
		<context>MapOnly</context>
		<eventNames />
		<maxSimultaneous>2</maxSimultaneous>
		<subSounds>
			<li>
				<grains>
					<li Class="AudioGrain_Clip">
						<clipPath>Weapon/Shot_Muffler</clipPath>
					</li>
				</grains>
			</li>
		</subSounds>
	</SoundDef>

	<!--Underbarrel-->

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_Bayonet</defName>
		<label>railgun ECS bayonet</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</uiIconPath>
		<statBases>
			<Mass>0.2</Mass>
		</statBases>
		<tools>
			<li>
				<label>e-bayonet blade</label>
				<capacities>
					<li>Cut</li>
				</capacities>
				<power>12</power>
				<cooldownTime>1.5</cooldownTime>
				<armorPenetration>0.4</armorPenetration>
				<chanceFactor>100</chanceFactor>
			</li>
			<li>
				<label>e-bayonet point</label>
				<capacities>
					<li>Stab</li>
				</capacities>
				<power>13</power>
				<cooldownTime>2</cooldownTime>
				<armorPenetration>0.5</armorPenetration>
				<chanceFactor>100</chanceFactor>
			</li>
		</tools>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<toolsAffectByOtherPart>true</toolsAffectByOtherPart>
				<PartTexPath>ModularRailgun/ModRailgun_Bayonet</PartTexPath>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_VertiGrip</defName>
		<label>railgun vertical grip</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</uiIconPath>
		<statBases>
			<Mass>0.2</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_VerticalGrip</PartTexPath>
				<verbPropertiesMultiplier>
					<li>
						<warmupTime>0.9</warmupTime>
					</li>
				</verbPropertiesMultiplier>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_UBGL</defName>
		<label>railgun UBGL</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</uiIconPath>
		<statBases>
			<Mass>0.2</Mass>
		</statBases>
		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<warmupTime>3.5</warmupTime>
				<range>23.9</range>
				<forcedMissRadius>1.9</forcedMissRadius>
				<burstShotCount>1</burstShotCount>
				<soundCast>Shot_IncendiaryLauncher</soundCast>
				<soundCastTail>GunTail_Medium</soundCastTail>
				<muzzleFlashScale>14</muzzleFlashScale>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
			</li>
		</verbs>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_UBGL</PartTexPath>
				<attachmentProperties>
					<li>
						<id>ModRailgun_UBGL</id>
						<name>UBGL</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Ammo</UITexPath>
						<scale>(0,0,0)</scale>
						<verbPropertiesAffectByOtherPart>false</verbPropertiesAffectByOtherPart>
						<allowEmpty>true</allowEmpty>
						<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
						<filter>
							<thingDefs>
								<li>ModRailgun_UBGL_EMP</li>
								<li>ModRailgun_UBGL_Inc</li>
								<li>ModRailgun_UBGL_Smoke</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="BaseBullet">
		<defName>Bullet_RailgunUBGL</defName>
		<label>explosive bolt</label>
		<graphicData>
			<texPath>Things/Projectile/LauncherShot</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
			<color>(254,189,58)</color>
		</graphicData>
		<thingClass>Projectile_Explosive</thingClass>
		<projectile>
			<speed>40</speed>
			<explosionRadius>1.9</explosionRadius >
			<damageDef>Bomb</damageDef>
			<arcHeightFactor>0.2</arcHeightFactor>
			<shadowSize>0.6</shadowSize>
		</projectile>
	</ThingDef>

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_UBGL_EMP</defName>
		<label>EMP grenade</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Ammo</uiIconPath>
		<statBases>
			<Mass>0.2</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_UBGL</PartTexPath>
				<verbPropertiesObjectPatch>
					<li>
						<defaultProjectile>Bullet_EMPLauncher</defaultProjectile>
					</li>
				</verbPropertiesObjectPatch>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_UBGL_Inc</defName>
		<label>incendiary grenade</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Ammo</uiIconPath>
		<statBases>
			<Mass>0.1</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_UBGL</PartTexPath>
				<verbPropertiesObjectPatch>
					<li>
						<defaultProjectile>Bullet_IncendiaryLauncher</defaultProjectile>
					</li>
				</verbPropertiesObjectPatch>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="RailgunPartBase">
		<defName>ModRailgun_UBGL_Smoke</defName>
		<label>smoke grenade</label>
		<description>Standard clip magazine</description>
		<uiIconPath>ui/icons/AttachmentIcon/AttachmentIcon_Ammo</uiIconPath>
		<statBases>
			<Mass>0.1</Mass>
		</statBases>
		<comps>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<PartTexPath>ModularRailgun/ModRailgun_UBGL</PartTexPath>
				<verbPropertiesObjectPatch>
					<li>
						<defaultProjectile>Bullet_SmokeLauncher</defaultProjectile>
					</li>
				</verbPropertiesObjectPatch>
			</li>
		</comps>
	</ThingDef>
</Defs>